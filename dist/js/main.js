"use strict";

jQuery(function () {
  //// Navbar
  $(".nav-link").on("click", function () {
    // 1) Remove class show when click link
    $(this).parentsUntil("navbar-collapse").removeClass("show");
  });

  //
  var getDirPage = $("html").attr("dir");

  // Header slider
  $(".header__slider, .testimonial").slick({
    infinite: false,
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 5000,
    arrows: true,
    prevArrow: "<svg class='a-left control-c prev slick-prev'>\n    <use xlink:href=\"../icons/sprite.svg#icon-Angle-Left\">\n    </svg>",
    nextArrow: "<svg class='a-right control-c next slick-next'>\n    <use xlink:href=\"../icons/sprite.svg#icon-Angle-Right\">\n    </svg>",
    responsive: [{
      breakpoint: 600,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1,
        dots: false,
        arrows: false
      }
    }]
  });

  // Blog slider
  $(".blog__article").slick({
    infinite: true,
    slidesToShow: 2,
    slidesToScroll: 2,
    autoplay: true,
    autoplaySpeed: 5000,
    dots: true,
    arrows: false,
    appendDots: $(".placeholder"),
    responsive: [{
      breakpoint: 600,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1,
        dots: false
      }
    }]
  });

  // Our team slider
  $(".our-team__wrapper").slick({
    infinite: true,
    slidesToShow: 3,
    slidesToScroll: 3,
    autoplay: true,
    autoplaySpeed: 5000,
    dots: true,
    arrows: false,
    responsive: [{
      breakpoint: 800,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2,
        dots: false
      }
    }, {
      breakpoint: 600,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1,
        dots: false
      }
    }]
  });

  // Section gallery
  $(".our-works__btn-gallery .btn").on("click", function () {
    // 1) Get id when click the button
    var classSelect = $(this).data("select");
    // 2) Add class active on select button then remove class active from all siblings
    $(this).addClass("active").siblings().removeClass("active");
    // 3) Filter with all images
    $(".our-works__gallery__image").filter(function (i, cur) {
      $(cur).hasClass(classSelect) ? $(cur).removeClass("opacity") : $(cur).addClass("opacity");
    });
  });

  // Scroll document
  $(document).on("scroll", function () {
    //
    $(document).scrollTop() >= 1000 ? $("#scrollUp").addClass("fadeIn") : $("#scrollUp").removeClass("fadeIn");
  });

  // Scroll up document
  $("#scrollUp").on("click", function () {
    $("html, body").animate({
      scrollTop: 0
    }, 1000);
  });

  // Change direction page
  $(".change_lang").on("change", function () {
    // 1) Get lang when change lang
    var getLang = $(this).val().replace("#", "");
    // 2)
    if (getLang === "ar") {
      $("html").attr({ dir: "rtl", lang: "ar" });
    } else {
      $("html").attr({ dir: "ltr", lang: "en" });
    }
    //
    $(".slick-slider").addClass("direction-ltr");
  });

  // Lazy loading image
  // All images
  var allImages = $("[data-src]");

  // Preload image
  function preloadImages(img) {
    var src = $(img).data("src");

    if (!src) return;

    img.src = src;

    $(img).removeAttr("data-src");
  }

  //
  var ImageObServer = new IntersectionObserver(function (entries, ImageObServer) {
    $(entries).each(function (i, cur) {
      if (!cur.isIntersecting) {
        cur.target.classList.add("fadeOut");
        return;
      } else {
        //
        preloadImages(cur.target);
        cur.target.classList.remove("fadeOut");
        cur.target.classList.add("fadeIn");
        ImageObServer.unobserve(cur.target);
      }
    });
  }, {
    threshold: 0
  });

  //
  allImages.each(function (i, cur) {
    return ImageObServer.observe(cur);
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsialF1ZXJ5IiwiJCIsIm9uIiwicGFyZW50c1VudGlsIiwicmVtb3ZlQ2xhc3MiLCJnZXREaXJQYWdlIiwiYXR0ciIsInNsaWNrIiwiaW5maW5pdGUiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImF1dG9wbGF5IiwiYXV0b3BsYXlTcGVlZCIsImFycm93cyIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJkb3RzIiwiYXBwZW5kRG90cyIsImNsYXNzU2VsZWN0IiwiZGF0YSIsImFkZENsYXNzIiwic2libGluZ3MiLCJmaWx0ZXIiLCJpIiwiY3VyIiwiaGFzQ2xhc3MiLCJkb2N1bWVudCIsInNjcm9sbFRvcCIsImFuaW1hdGUiLCJnZXRMYW5nIiwidmFsIiwicmVwbGFjZSIsImRpciIsImxhbmciLCJhbGxJbWFnZXMiLCJwcmVsb2FkSW1hZ2VzIiwiaW1nIiwic3JjIiwicmVtb3ZlQXR0ciIsIkltYWdlT2JTZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJlYWNoIiwiaXNJbnRlcnNlY3RpbmciLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJ1bm9ic2VydmUiLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxPQUFPLFlBQVk7QUFDakI7QUFDQUMsSUFBRSxXQUFGLEVBQWVDLEVBQWYsQ0FBa0IsT0FBbEIsRUFBMkIsWUFBWTtBQUNyQztBQUNBRCxNQUFFLElBQUYsRUFBUUUsWUFBUixDQUFxQixpQkFBckIsRUFBd0NDLFdBQXhDLENBQW9ELE1BQXBEO0FBQ0QsR0FIRDs7QUFLQTtBQUNBLE1BQUlDLGFBQWFKLEVBQUUsTUFBRixFQUFVSyxJQUFWLENBQWUsS0FBZixDQUFqQjs7QUFFQTtBQUNBTCxJQUFFLCtCQUFGLEVBQW1DTSxLQUFuQyxDQUF5QztBQUN2Q0MsY0FB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QUFXQyxTQUFYLENBQXFCRSxNQUFyQixDQUE0QixTQUE1QjtBQUNBdkIsWUFBSW9CLE1BQUosQ0FBV0MsU0FBWCxDQUFxQkMsR0FBckIsQ0FBeUIsUUFBekI7QUFDQVAsc0JBQWNTLFNBQWQsQ0FBd0J4QixJQUFJb0IsTUFBNUI7QUFDRDtBQUNGLEtBWEQ7QUFZRCxHQWRtQixFQWVwQjtBQUNFSyxlQUFXO0FBRGIsR0Fmb0IsQ0FBdEI7O0FBb0JBO0FBQ0FmLFlBQVVRLElBQVYsQ0FBZSxVQUFDbkIsQ0FBRCxFQUFJQyxHQUFKO0FBQUEsV0FBWWUsY0FBY1csT0FBZCxDQUFzQjFCLEdBQXRCLENBQVo7QUFBQSxHQUFmO0FBQ0QsQ0ExS0QiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImpRdWVyeShmdW5jdGlvbiAoKSB7XG4gIC8vLy8gTmF2YmFyXG4gICQoXCIubmF2LWxpbmtcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gMSkgUmVtb3ZlIGNsYXNzIHNob3cgd2hlbiBjbGljayBsaW5rXG4gICAgJCh0aGlzKS5wYXJlbnRzVW50aWwoXCJuYXZiYXItY29sbGFwc2VcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICB9KTtcblxuICAvL1xuICBsZXQgZ2V0RGlyUGFnZSA9ICQoXCJodG1sXCIpLmF0dHIoXCJkaXJcIik7XG5cbiAgLy8gSGVhZGVyIHNsaWRlclxuICAkKFwiLmhlYWRlcl9fc2xpZGVyLCAudGVzdGltb25pYWxcIikuc2xpY2soe1xuICAgIGluZmluaXRlOiBmYWxzZSxcbiAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgYXV0b3BsYXk6IHRydWUsXG4gICAgYXV0b3BsYXlTcGVlZDogNTAwMCxcbiAgICBhcnJvd3M6IHRydWUsXG4gICAgcHJldkFycm93OiBgPHN2ZyBjbGFzcz0nYS1sZWZ0IGNvbnRyb2wtYyBwcmV2IHNsaWNrLXByZXYnPlxuICAgIDx1c2UgeGxpbms6aHJlZj1cIi4uL2ljb25zL3Nwcml0ZS5zdmcjaWNvbi1BbmdsZS1MZWZ0XCI+XG4gICAgPC9zdmc+YCxcbiAgICBuZXh0QXJyb3c6IGA8c3ZnIGNsYXNzPSdhLXJpZ2h0IGNvbnRyb2wtYyBuZXh0IHNsaWNrLW5leHQnPlxuICAgIDx1c2UgeGxpbms6aHJlZj1cIi4uL2ljb25zL3Nwcml0ZS5zdmcjaWNvbi1BbmdsZS1SaWdodFwiPlxuICAgIDwvc3ZnPmAsXG4gICAgcmVzcG9uc2l2ZTogW1xuICAgICAge1xuICAgICAgICBicmVha3BvaW50OiA2MDAsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0pO1xuXG4gIC8vIEJsb2cgc2xpZGVyXG4gICQoXCIuYmxvZ19fYXJ0aWNsZVwiKS5zbGljayh7XG4gICAgaW5maW5pdGU6IHRydWUsXG4gICAgc2xpZGVzVG9TaG93OiAyLFxuICAgIHNsaWRlc1RvU2Nyb2xsOiAyLFxuICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDAsXG4gICAgZG90czogdHJ1ZSxcbiAgICBhcnJvd3M6IGZhbHNlLFxuICAgIGFwcGVuZERvdHM6ICQoXCIucGxhY2Vob2xkZXJcIiksXG4gICAgcmVzcG9uc2l2ZTogW1xuICAgICAge1xuICAgICAgICBicmVha3BvaW50OiA2MDAsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdLFxuICB9KTtcblxuICAvLyBPdXIgdGVhbSBzbGlkZXJcbiAgJChcIi5vdXItdGVhbV9fd3JhcHBlclwiKS5zbGljayh7XG4gICAgaW5maW5pdGU6IHRydWUsXG4gICAgc2xpZGVzVG9TaG93OiAzLFxuICAgIHNsaWRlc1RvU2Nyb2xsOiAzLFxuICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDAsXG4gICAgZG90czogdHJ1ZSxcbiAgICBhcnJvd3M6IGZhbHNlLFxuICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgIHtcbiAgICAgICAgYnJlYWtwb2ludDogODAwLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMixcbiAgICAgICAgICBkb3RzOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGJyZWFrcG9pbnQ6IDYwMCxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgZG90czogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0pO1xuXG4gIC8vIFNlY3Rpb24gZ2FsbGVyeVxuICAkKFwiLm91ci13b3Jrc19fYnRuLWdhbGxlcnkgLmJ0blwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyAxKSBHZXQgaWQgd2hlbiBjbGljayB0aGUgYnV0dG9uXG4gICAgY29uc3QgY2xhc3NTZWxlY3QgPSAkKHRoaXMpLmRhdGEoXCJzZWxlY3RcIik7XG4gICAgLy8gMikgQWRkIGNsYXNzIGFjdGl2ZSBvbiBzZWxlY3QgYnV0dG9uIHRoZW4gcmVtb3ZlIGNsYXNzIGFjdGl2ZSBmcm9tIGFsbCBzaWJsaW5nc1xuICAgICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAvLyAzKSBGaWx0ZXIgd2l0aCBhbGwgaW1hZ2VzXG4gICAgJChcIi5vdXItd29ya3NfX2dhbGxlcnlfX2ltYWdlXCIpLmZpbHRlcigoaSwgY3VyKSA9PiB7XG4gICAgICAkKGN1cikuaGFzQ2xhc3MoY2xhc3NTZWxlY3QpID8gJChjdXIpLnJlbW92ZUNsYXNzKFwib3BhY2l0eVwiKSA6ICQoY3VyKS5hZGRDbGFzcyhcIm9wYWNpdHlcIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFNjcm9sbCBkb2N1bWVudFxuICAkKGRvY3VtZW50KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgLy9cbiAgICAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+PSAxMDAwXG4gICAgICA/ICQoXCIjc2Nyb2xsVXBcIikuYWRkQ2xhc3MoXCJmYWRlSW5cIilcbiAgICAgIDogJChcIiNzY3JvbGxVcFwiKS5yZW1vdmVDbGFzcyhcImZhZGVJblwiKTtcbiAgfSk7XG5cbiAgLy8gU2Nyb2xsIHVwIGRvY3VtZW50XG4gICQoXCIjc2Nyb2xsVXBcIikub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZShcbiAgICAgIHtcbiAgICAgICAgc2Nyb2xsVG9wOiAwLFxuICAgICAgfSxcbiAgICAgIDEwMDBcbiAgICApO1xuICB9KTtcblxuICAvLyBDaGFuZ2UgZGlyZWN0aW9uIHBhZ2VcbiAgJChcIi5jaGFuZ2VfbGFuZ1wiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gMSkgR2V0IGxhbmcgd2hlbiBjaGFuZ2UgbGFuZ1xuICAgIGNvbnN0IGdldExhbmcgPSAkKHRoaXMpLnZhbCgpLnJlcGxhY2UoXCIjXCIsIFwiXCIpO1xuICAgIC8vIDIpXG4gICAgaWYgKGdldExhbmcgPT09IFwiYXJcIikge1xuICAgICAgJChcImh0bWxcIikuYXR0cih7IGRpcjogXCJydGxcIiwgbGFuZzogXCJhclwiIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKFwiaHRtbFwiKS5hdHRyKHsgZGlyOiBcImx0clwiLCBsYW5nOiBcImVuXCIgfSk7XG4gICAgfVxuICAgIC8vXG4gICAgJChcIi5zbGljay1zbGlkZXJcIikuYWRkQ2xhc3MoXCJkaXJlY3Rpb24tbHRyXCIpO1xuICB9KTtcblxuICAvLyBMYXp5IGxvYWRpbmcgaW1hZ2VcbiAgLy8gQWxsIGltYWdlc1xuICBjb25zdCBhbGxJbWFnZXMgPSAkKFwiW2RhdGEtc3JjXVwiKTtcblxuICAvLyBQcmVsb2FkIGltYWdlXG4gIGZ1bmN0aW9uIHByZWxvYWRJbWFnZXMoaW1nKSB7XG4gICAgY29uc3Qgc3JjID0gJChpbWcpLmRhdGEoXCJzcmNcIik7XG5cbiAgICBpZiAoIXNyYykgcmV0dXJuO1xuXG4gICAgaW1nLnNyYyA9IHNyYztcblxuICAgICQoaW1nKS5yZW1vdmVBdHRyKFwiZGF0YS1zcmNcIik7XG4gIH1cblxuICAvL1xuICBjb25zdCBJbWFnZU9iU2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgIChlbnRyaWVzLCBJbWFnZU9iU2VydmVyKSA9PiB7XG4gICAgICAkKGVudHJpZXMpLmVhY2goKGksIGN1cikgPT4ge1xuICAgICAgICBpZiAoIWN1ci5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgIGN1ci50YXJnZXQuY2xhc3NMaXN0LmFkZChcImZhZGVPdXRcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcHJlbG9hZEltYWdlcyhjdXIudGFyZ2V0KTtcbiAgICAgICAgICBjdXIudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJmYWRlT3V0XCIpO1xuICAgICAgICAgIGN1ci50YXJnZXQuY2xhc3NMaXN0LmFkZChcImZhZGVJblwiKTtcbiAgICAgICAgICBJbWFnZU9iU2VydmVyLnVub2JzZXJ2ZShjdXIudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB7XG4gICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgfVxuICApO1xuXG4gIC8vXG4gIGFsbEltYWdlcy5lYWNoKChpLCBjdXIpID0+IEltYWdlT2JTZXJ2ZXIub2JzZXJ2ZShjdXIpKTtcbn0pO1xuIl19
